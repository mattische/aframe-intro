# 3D-modeller

![SketchFab](https://github.com/mattische/aframe-intro/blob/0f96fe55213ae14b49fd156a55f64630676a858b/1%20-%20mer%20om%20assets%20och%20animation/img/sf.png)

A-Frame stödjer flera olika format för modeller som kan användas i en scen.
Men vad är en 3D-modell då?

Så här säger Chat GPT;

*är en digital representation av ett objekt eller en struktur i tre dimensioner (höjd, bredd och djup). Den skapas med hjälp av specialiserad programvara och används för att visualisera objekt i olika sammanhang, såsom spel, filmer, design, arkitektur, simuleringar och virtual reality.*

3D modeller används i t ex spel, film (visuella effekter och animationer), arkitektur/design för att visualisera miljöer och då inom XR (VR/AR). 
Framställandet av modellerna görs i specifik mjukvara, t ex Blender, Maya, 3ds Max, SketchUp etc.

I den här introduktionen ingår inte att skapa 3D-modeller. Ibland kan det vara bra att ha en uppfattning om dem;

 - Mesh: En 3D-modell är vanligtvis uppbyggd av ett nätverk av polygoner, vanligtvis trianglar eller fyrkanter, som tillsammans formar ytans geometri. Dessa polygoner kopplas samman i en struktur som kallas "mesh".

- Vertices: Varje polygon definieras av ett antal hörn (vertices). Vertices är punkterna i 3D-rymden som bildar basen för modellens struktur. De är viktiga för att bestämma formen och utseendet av objektet.

- Texturer: En textur är en bild eller ett mönster som appliceras på 3D-modellen för att ge den mer detaljer och realism. Texturer kan simulera ytor som trä, metall, plast eller hud.

- Material: Material anger hur en 3D-modells yta ska bete sig i förhållande till ljus. Det definierar egenskaper som färg, reflektion, genomskinlighet och glans.

- Normaler: Normaler är vektorer som pekar utåt från ytan av en modell och används för att avgöra hur ljuset reflekteras. De är avgörande för att beräkna ljuseffekter som skuggor och reflektioner.

- UV Mapping: Det är en process där texturer "viks" runt en 3D-modell. UV-koordinaterna hjälper till att placera 2D-bilder (texturer) på rätt plats över den tredimensionella ytan.

- Animation: Vissa 3D-modeller är riggade för animation, vilket innebär att de har ett "skelett" eller en uppsättning kontroller som gör det möjligt att animera olika delar av modellen, som karaktärers rörelser.

### Använda modeller
Om du inte vill göra egna modeller (vilket kräver en hel del kunskap om mjukvarorna de skapas med) så finns det flera olika ställen där 3D-modeller finns att tillgå och använda gratis. [SketchFab](https://sketchfab.com/) är en plats där användare kan ladda upp och dela sina modeller - där kan du alltså leta och hitta passande modeller som du kan använda i ditt projekt.

Modellerna finns tillgängliga i olika format (filformat/extensioner) som kan ha olia egenskaper.
Nedan listas olika format - rekommenderat format är **glTF**, som är optimerat för webben.

Om man vill testa att ladd in en modell i sin scen, så kan man göra så här;

```html
<!-- där du byter ut extension mot korrekt filextension, t ex .gltf eller .glb -->
<a-entity my-model="url(path/to/model.extension)"></a-entity>
```

**glTF (GL Transmission Format)**

extensioner: .gltf (JSON-format) och .glb (binärt format)
glTF är ett format optimerat för webben. 
Det stöder både statiska och animerade 3D-modeller och är det **rekommenderade formatet för A-Frame**.
Stödjer: Material, texturer, animationer, ljus, och kamerainställningar.

**OBJ (Wavefront OBJ)**

extension: .obj tillsammans med .mtl (materialfil)
ett vanligt äldre format som används för att lagra 3D-geometri. Det är enkelt men stöder inte komplexa materialinställningar och animationer.

**Collada (DAE)**

extension: .dae
ett XML-baserat format som används för att utbyta 3D-modeller mellan olika programvaror. Det kan inkludera geometri, material, och animationer.


**FBX (Filmbox)**

extension: .fbx
används ofta för animationer. FBX stöds inte direkt i A-Frame. Du behöver konvertera FBX till glTF för att använda dem i A-Frame, vilket enkelt kan göras med verktyg som Blender eller online.


### övning - ladda en 3D-modell i A-Frame
du ska använda en glTF-modell och sedan animera dess position, rotation (eller andra attribut om du vill).

- välj eller använd en 3D-modell i glTF-format
Ladda ner en glTF-modell från Sketchfab eller använd en du redan har. I exemplet nedan kallar vi vår modell för "Damaged Helmet (glTF)" och filnamnet "DamagedHelmet.gltf".

- skapa en ny HTML-fil och inkludera A-Frame.

- lägg till den nedladdade eller "färdiga" modellen bland dina assets samt infoga den.
och se hur den ser ut i VR läge.
```html
<a-assets>
      <!-- glöm inte ändra sökvägen till filen med din modell -->
      <a-asset-item id="helmetModel" src="/path/to/your/model/DamagedHelmet.gltf"></a-asset-item>
</a-assets>

<!-- här används modellen, notera att vi använder värdet för id som värde till gltf-model -->
<a-entity
   gltf-model="#helmetModel"
   position="0 1 -5"
   scale="2 2 2">
</a-entity>
```

- skapa nu en enkel animation, till exempel en roterande animation. Vi använder tidigare kod och modell.
 Öppna filen i din webbläsare. Du bör se din 3D-modell rotera kontinuerligt runt sin y-axel.
 Komplett kod med plane, kamera, ljus och en animation:

```html

  <a-scene>
    
    <a-assets>
      <a-asset-item id="helmetModel" src="/path/to/your/model/DamagedHelmet.gltf"></a-asset-item>
    </a-assets>

    <!-- Lägg till modellen i scenen och animera dess rotation -->
    <a-entity gltf-model="#helmetModel" position="0 1 -5" scale="2 2 2">
      <!-- Animerar rotation -->
      <a-animation attribute="rotation" to="0 360 0" dur="4000" repeat="indefinite"></a-animation>
    </a-entity>

    <!--  -->
    <a-plane position="0 0 -5" rotation="-90 0 0" width="10" height="10" color="#7BC8A4"></a-plane>
    <a-light type="directional" position="1 1 0"></a-light>
    <a-camera position="0 1.6 0"></a-camera>
  </a-scene>

```

- < a-assets >: Här förladdar vi glTF-modellen med < a-asset-item > så att den kan användas senare i scenen.
src="/path/to/your/model/DamagedHelmet.gltf": Här anger du sökvägen till din modell. Byt ut sökvägen till den faktiska platsen för din glTF-modell.
- < a-entity >: Detta skapar en entitet för att ladda in modellen. Vi använder attribut som position och scale för att justera var modellen visas och hur stor den är.
- < a-animation >: Här används A-Frames inbyggda animationssystem för att skapa en rotation. Den roterar modellen 360 grader runt y-axeln och upprepar det oändligt med repeat="indefinite" och en varaktighet på 4 sekunder (dur="4000").
  

- fortsätt nu att testa själv. Du kan animera fler attribut såsom position, scale, eller material.color samtidigt om du vill skapa mer komplexa animationer. Testa detta!

- du kan också trigga animationen på användarinteraktioner, till exempel click eller mouseenter
